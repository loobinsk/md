# Generated by Django 4.0.4 on 2022-08-09 15:35

from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('project_sales', '0005_alter_salesinit_inflation_indexation_period_and_more'),
        ('project_taxes', '0002_alter_taxprm_tax_min_burden'),
        ('projects', '0022_alter_additionalprojectinformation_contract_date_and_more'),
        ('project_economic_indicators', '0005_alter_capex_liquidation_cost_vat_rate_and_more'),
        ('project_financing_sources', '0003_alter_credit_date_alter_credit_date_in_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='Calculation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('project', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='calculation', to='projects.project')),
                ('variant_capex', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='variant_capex', to='project_economic_indicators.capex', verbose_name='Вариант кап. расходов')),
                ('variant_credits', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='variant_credit', to='project_financing_sources.creditvariant', verbose_name='Вариант банковского кредита')),
                ('variant_discount_rate', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='variant_discount_rates', to='project_taxes.discountrate', verbose_name='Вариант ставки дисконтирования')),
                ('variant_leasing', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='variant_leasing', to='project_financing_sources.leasingcontractvariant', verbose_name='Вариант лизинга')),
                ('variant_opexs', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='variant_costs', to='project_sales.opexvariant', verbose_name='Вариант затрат')),
                ('variant_own_funds', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='variant_own_fund', to='project_financing_sources.ownfundvariant', verbose_name='Вариант собственного капитала')),
                ('variant_sales', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='variant_sales', to='project_sales.salesinit', verbose_name='Вариант продаж')),
                ('variant_taxs', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='variant_taxs', to='project_taxes.taxprm', verbose_name='Вариант налогов')),
                ('variant_wk', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='variant_wk', to='project_financing_sources.workingcapitalparameter', verbose_name='Вариант рабочего капитала')),
            ],
        ),
        migrations.CreateModel(
            name='ResultFinancialAnalys',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('month', models.DateTimeField(verbose_name='Месяц, к которому относятся значения')),
                ('return_on_sales_rot', models.FloatField(blank=True, null=True, verbose_name='Рентабельность продаж (ROS)')),
                ('return_on_equity_roe', models.FloatField(blank=True, null=True, verbose_name='Рентабельность собственного капитала (ROE)')),
                ('return_on_assets_roa', models.FloatField(blank=True, null=True, verbose_name='Рентабельность активов (ROA)')),
                ('asset_turnover_ratio', models.FloatField(blank=True, null=True, verbose_name='Коэффициент оборачиваемости активов')),
                ('сurrent_assets_turnover_ratio', models.FloatField(blank=True, null=True, verbose_name='Коэффициент оборачиваемости оборотных активов')),
                ('inventory_turnover_ratio', models.FloatField(blank=True, null=True, verbose_name='Коэффициент оборачиваемости запасов')),
                ('accounts_receivable_turnover_ratio', models.FloatField(blank=True, null=True, verbose_name='Коэффициент оборачиваемости дебиторской задолженности')),
                ('accounts_payable_turnover_ratio', models.FloatField(blank=True, null=True, verbose_name='Коэффициент оборачиваемости кредиторской задолженности')),
                ('autonomy_coefficient', models.FloatField(blank=True, null=True, verbose_name='Коэффициент автономии')),
                ('leverage_ratio_de', models.FloatField(blank=True, null=True, verbose_name='Коэффициент левериджа (D/E)')),
                ('own_working_capital_ratio', models.FloatField(blank=True, null=True, verbose_name='Коэффициент собственных оборотных средств')),
                ('absolute_liquidity_ratio', models.FloatField(blank=True, null=True, verbose_name='Коэффициент абсолютной ликвидности')),
                ('interim_liquidity_ratio', models.FloatField(blank=True, null=True, verbose_name='Коэффициент промежуточной ликвидности')),
                ('current_liquidity_ratio', models.FloatField(blank=True, null=True, verbose_name='Коэффициент текущей ликвидности')),
                ('calculation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='project_calculations.calculation')),
            ],
        ),
        migrations.CreateModel(
            name='Rating',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rating', models.PositiveIntegerField(blank=True, null=True, verbose_name='Рейтинг проекта')),
                ('comment', models.TextField(blank=True, null=True, verbose_name='Комментарий к рейтингу')),
                ('calculation', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='rating', to='project_calculations.calculation')),
            ],
        ),
        migrations.CreateModel(
            name='ProfitAndLossPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('month', models.DateTimeField(verbose_name='Месяц, к которому относятся значения')),
                ('revenue', models.FloatField(verbose_name='Выручка')),
                ('сost_price', models.FloatField(verbose_name='Себестоимость')),
                ('gross_profit', models.FloatField(verbose_name='Валовая прибыль')),
                ('business_expenses', models.FloatField(verbose_name='Коммерческие расходы')),
                ('management_expenses', models.FloatField(verbose_name='Управленческие расходы')),
                ('operating_income_ebit', models.FloatField(verbose_name='Операционная прибыль EBIT')),
                ('interest_expenses', models.FloatField(verbose_name='Процентные расходы')),
                ('profit_before_tax', models.FloatField(verbose_name='Прибыль до налогообложения')),
                ('income_tax', models.FloatField(verbose_name='Налог на прибыль')),
                ('net_profit', models.FloatField(verbose_name='Чистая прибыль')),
                ('ebitda', models.FloatField(verbose_name='EBITDA')),
                ('calculation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='project_calculations.calculation')),
            ],
        ),
        migrations.CreateModel(
            name='PaybackProject',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nominal_payback_period', models.DateField(blank=True, null=True, verbose_name='Номинальный срок окупаемости')),
                ('discounted_payback_period', models.DateField(blank=True, null=True, verbose_name='Дисконтированный срок окупаемости')),
                ('calculation', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='payback_project', to='project_calculations.calculation')),
            ],
        ),
        migrations.CreateModel(
            name='MainParameter',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_date', models.DateField(blank=True, null=True, verbose_name='Начало проекта')),
                ('end_date', models.DateField(blank=True, null=True, verbose_name='Окончание проекта')),
                ('calculation', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='main_parameters', to='project_calculations.calculation')),
            ],
        ),
        migrations.CreateModel(
            name='FundingAmount',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('capEx_amount', models.FloatField(blank=True, null=True, verbose_name='Сумма CapEx (с НДС), руб')),
                ('amount_of_own_funds', models.FloatField(blank=True, null=True, verbose_name='Сумма собственных средств, руб')),
                ('amount_of_borrowed_funds', models.FloatField(blank=True, null=True, verbose_name='Сумма заемных средств, руб')),
                ('DE_ratio', models.FloatField(blank=True, null=True, verbose_name='Коэффициент D/E')),
                ('average_Debt_EBITDA_ratio', models.FloatField(blank=True, null=True, verbose_name='Средний коэффициент Debt/EBITDA')),
                ('calculation', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='funding_amounts', to='project_calculations.calculation')),
            ],
        ),
        migrations.CreateModel(
            name='CashFlowPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('month', models.DateTimeField(verbose_name='Месяц, к которому относятся значения')),
                ('EBITDA', models.FloatField(verbose_name='EBITDA')),
                ('working_weight_change', models.FloatField(verbose_name='Изменение рабочего капитала')),
                ('income_tax', models.FloatField(verbose_name='Налог на прибыль')),
                ('net_cash_flow_from_operations', models.FloatField(verbose_name='Чистый денежный поток по операционной деятельности')),
                ('payment_capital_costs', models.FloatField(verbose_name='Оплата капитальных расходов')),
                ('VAT_refund', models.FloatField(verbose_name='Возмещение НДС')),
                ('payment_liquidation_expenses', models.FloatField(verbose_name='Оплата ликвидационных расходов')),
                ('receipt_liquidation_proceeds', models.FloatField(verbose_name='Поступление ликвидационных доходов')),
                ('net_cash_flow_from_investing_activities', models.FloatField(verbose_name='Чистый денежный поток по инвестиционной деятельности')),
                ('receipt_from_owners', models.FloatField(verbose_name='Поступление от собственников')),
                ('credit_receipt', models.FloatField(verbose_name='Поступление кредита')),
                ('return_credits', models.FloatField(verbose_name='Возврат кредитов')),
                ('loan_repayment', models.FloatField(verbose_name='Погашение кредита')),
                ('interest_payment', models.FloatField(verbose_name='Оплата процентов')),
                ('net_cash_flow_from_financing_activities', models.FloatField(verbose_name='Чистый денежный поток по финансовой деятельности')),
                ('net_cash_flow', models.FloatField(verbose_name='Чистый денежный поток')),
                ('cash_balance_beginning_period', models.FloatField(verbose_name='Остаток денежных средств на начало периода')),
                ('cash_balance_the_end_period', models.FloatField(verbose_name='Остаток денежных средств на конец периода')),
                ('calculation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='project_calculations.calculation')),
            ],
        ),
        migrations.CreateModel(
            name='BasicIndicator',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('discount_rate', models.FloatField(blank=True, null=True, verbose_name='ставка дисконтирования, %')),
                ('refinancing_rate', models.FloatField(blank=True, null=True, verbose_name='ставка рефинансирования, %')),
                ('net_present_value_npv', models.FloatField(blank=True, null=True, verbose_name='чистая приведенная стоимость npv, руб')),
                ('profitability_index_pi', models.FloatField(blank=True, null=True, verbose_name='индекс рентабельности pi')),
                ('internal_rate_return_irr', models.FloatField(blank=True, null=True, verbose_name='внутренняя норма доходности irr, %')),
                ('MIRR_internal_rate_return', models.FloatField(blank=True, null=True, verbose_name='Модифицированная внутренняя норма доходности MIRR, %')),
                ('calculation', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='basic_indicators', to='project_calculations.calculation')),
            ],
        ),
        migrations.CreateModel(
            name='Balance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('month', models.DateTimeField(verbose_name='Месяц, к которому относятся значения')),
                ('fixed_assets', models.FloatField(verbose_name='Основные средства')),
                ('Total_non_current_assets', models.FloatField(verbose_name='Итого внеоборотные активы')),
                ('Stocks', models.FloatField(verbose_name='Запасы')),
                ('accounts_receivable', models.FloatField(verbose_name='Дебиторская задолженность')),
                ('cash', models.FloatField(verbose_name='Денежные средства')),
                ('total_current_assets', models.FloatField(verbose_name='Итого оборотные активы')),
                ('total_balance', models.FloatField(verbose_name='Итого баланс')),
                ('authorized_share_capital', models.FloatField(verbose_name='Уставный (акционерный) капитал')),
                ('undestributed_profits', models.FloatField(verbose_name='Нераспределенная прибыль')),
                ('total_equity', models.FloatField(verbose_name='Итого собственный капитал')),
                ('borrowed_funds', models.FloatField(verbose_name='Заемные средства')),
                ('accounts_payable', models.FloatField(verbose_name='Кредиторская задолженность')),
                ('total_liabilities', models.FloatField(verbose_name='Итого обязательства')),
                ('Total_balance2', models.FloatField(verbose_name='Итого баланс')),
                ('calculation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='project_calculations.calculation')),
            ],
        ),
        migrations.CreateModel(
            name='AnnualAverage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('average_annual_revenue', models.FloatField(blank=True, null=True, verbose_name='Среднегодовая выручка (без НДС), Руб')),
                ('average_annual_operating_costs', models.FloatField(blank=True, null=True, verbose_name='Среднегодовые операционные затраты с амортизайцией (без НДС), руб')),
                ('average_annual_net_profit', models.FloatField(blank=True, null=True, verbose_name='Среднегодовая чистая прибыль, руб')),
                ('average_return_on_sales', models.FloatField(blank=True, null=True, verbose_name='Средняя рентабельность продаж, %')),
                ('average_annual_VAT', models.FloatField(blank=True, null=True, verbose_name='Среднегодовой НДС, руб')),
                ('average_annual_income_tax', models.FloatField(blank=True, null=True, verbose_name='Среднегодовой налог на прибыль, руб')),
                ('calculation', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='annual_average', to='project_calculations.calculation')),
            ],
        ),
    ]
